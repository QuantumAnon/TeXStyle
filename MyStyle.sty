\ProvidesPackage{MyStyle}
%--------------------------------------------------
%Packages and package settings

% Margin note styles
\usepackage{marginnote}

% Document dimensions
\usepackage{geometry}

% Encoding
\usepackage[utf8]{inputenc}

% Color control
\usepackage{color}

% Driver independent
\usepackage{xcolor}

% Multicols environment
\usepackage{multicol}

% Code Listings
  \usepackage{listings}

  \lstset{
    basicstyle=\fontsize{8}{10}\ttfamily,
    aboveskip={1.0\baselineskip},
    belowskip={1.0\baselineskip},
    columns=fixed,
    extendedchars=true,
    breaklines=true,
    tabsize=4,
    prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
    frame=lines,
    showtabs=false,
    showspaces=false,
    showstringspaces=false,
    keywordstyle=\color[rgb]{0.627,0.126,0.941},
    commentstyle=\color[rgb]{0.133,0.545,0.133},
    stringstyle=\color[rgb]{01,0,0},
    numbers=left,
    numberstyle=\small,
    stepnumber=1,
    numbersep=10pt,
    captionpos=t,
    numbers=left,
    stepnumber=1,    
    firstnumber=1,
    numberfirstline=true
  }

  % MatLab code
  \usepackage{matlab-prettifier}
  
  

% Files within files
\usepackage{subfiles}

% Referencing
\usepackage{xr}
\usepackage{zref}

% Hyper-linking within latex
\usepackage{hyperref}

  \hypersetup
  {
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=cyan,
  }

  \urlstyle{same}

% Header control
  \usepackage{fancyhdr}

  \pagestyle{fancy}

% Paragraph indent and skip control
\usepackage{parskip}
  \setlength{\parskip}{1.5\baselineskip}
  \setlength{\parindent}{5pt}

% Figure and asset control
\usepackage{graphicx}
\usepackage{svg}


\usepackage{wrapfig}
\usepackage{lscape}
\usepackage{rotating}

% Captions in floating environments
\usepackage{caption}


% symbols
\usepackage{amsmath,amssymb,textcomp,gensymb,amsthm,bbm,doublestroke}

% Extra underlines
\usepackage{ulem}

% Lists
\usepackage{enumerate}

% Graphics
\usepackage{tikz}

% Physics notation
\usepackage{physics}

%--------------------------------------------------
%Document preparation


\newif\if@draftVersion

\DeclareOption{draft}{\@draftVersiontrue}

\ProcessOptions\relax



%Distinguish between draft versions and non-draft versions
\if@draftVersion
  % Paper sizes for draft versions
  \geometry{b4paper, total={18cm,26cm}, inner=1.5cm, top=2cm, heightrounded, marginparsep=2cm}
  %, outer=8cm, inner=2cm, heightrounded, marginparwidth=5cm, marginparsep=2cm

  % Emphasis and margin notes
  \newcommand{\marEmp}[3]{#1\marginnote{\emph{#1}:#2}[#3]}
  \newcommand{\marNote}[2]{\marginnote{#1}[#2]}
\else
  %paper sizes for non-draft versions
  \geometry{a4paper, total={18cm,25cm}, inner=1.5cm, top=2cm, heightrounded, marginparwidth=0cm, marginparsep=0cm}
  % Emphasis and margin notes are discouraged in non-draft versions
  \newcommand{\marEmp}[3]{
    #1
    \PackageWarning{MyStyle}{Emphasis margin note:\MessageBreak
    \space \space \"#1: #2\" \MessageBreak
    not removed, consider removing for final draft.}
  }

  \newcommand{\marNote}[2]{
    \PackageWarning{MyStyle}{Margin note:\MessageBreak
    \space \space \"#1\" \MessageBreak
    not removed, consider removing for final draft.}
  }
  
\fi


%--------------------------------------------------
%Operators and Commands

  %Matrix Notation style
    \newcommand{\mat}[1]{\pmb{\uwave{#1}}}
  
  %Referencing
    \newcommand{\PagRef}[1]{\ref{#1}, pp.\pageref{#1}}
    
    \newcommand{\FigRef}[1]{(Figure \ref{#1}, pp.\pageref{#1})}

    \newcommand{\TabRef}[1]{(Table \ref{#1}, pp.\pageref{#1})}

    \newcommand{\LisRef}[1]{(Listing \ref{#1}, pp.\pageref{#1})}
    
    \newcommand{\QuikRef}[1]{\ref{#1}}

  